<html>
<head>
<style>
  section {
    display: none;
  }
  section:target {
    display: block;
  }
</style>
<script src="https://cdn.jsdelivr.net/npm/showdown/dist/showdown.min.js"></script>
<script>
  // Get the list of posts from the directory
  fetch("posts.json")
    .then(response => response.json())
    .then(data => {
      // Loop through the posts and create links and sections for each one
      for (let post of data.posts) {
        // Create a link element
        let link = document.createElement("a");
        link.href = "#" + post.id;
        link.textContent = post.title;
        // Append the link to the navigation div
        document.getElementById("navigation").appendChild(link);
        // Create a section element
        let section = document.createElement("section");
        section.id = post.id;
        // Create a title element
        let title = document.createElement("h1");
        title.textContent = post.title;
        // Append the title to the section
        section.appendChild(title);
        // Create a content element
        let content = document.createElement("div");
        content.className = "content";
        // Append the content to the section
        section.appendChild(content);
        // Append the section to the main div
        document.getElementById("main").appendChild(section);
      }
      // Load the markdown files and render them using Showdown
      let converter = new showdown.Converter();
      let sections = document.querySelectorAll("section");
      for (let section of sections) {
        let id = section.id;
        let contentDiv = section.querySelector(".content");
        fetch("./_posts/" + id + ".md")
          .then(response => response.text())
          .then(text => {
            let html = converter.makeHtml(text);
            contentDiv.innerHTML = html;
          });
      }
    });
</script>
</head>
<body>
<div id="navigation">
  <!-- Links to posts will be added here -->
</div>
<div id="main">
  <!-- Sections for posts will be added here -->
</div>
</body>
</html>